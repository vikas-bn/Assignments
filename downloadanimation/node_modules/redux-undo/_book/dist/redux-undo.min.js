!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.ReduxUndo=t():e.ReduxUndo=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){e.exports=n(4)},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=t.ActionTypes={UNDO:"@@redux-undo/UNDO",REDO:"@@redux-undo/REDO",JUMP_TO_FUTURE:"@@redux-undo/JUMP_TO_FUTURE",JUMP_TO_PAST:"@@redux-undo/JUMP_TO_PAST",JUMP:"@@redux-undo/JUMP",CLEAR_HISTORY:"@@redux-undo/CLEAR_HISTORY"},r=t.ActionCreators={undo:function(){return{type:n.UNDO}},redo:function(){return{type:n.REDO}},jumpToFuture:function(e){return{type:n.JUMP_TO_FUTURE,index:e}},jumpToPast:function(e){return{type:n.JUMP_TO_PAST,index:e}},jump:function(e){return{type:n.JUMP,index:e}},clearHistory:function(){return{type:n.CLEAR_HISTORY}}};t.ActionTypes=n,t.ActionCreators=r},function(e,t){"use strict";function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Array.isArray(e)?e:"string"==typeof e?[e]:t}function r(e){return void 0!==e.present&&void 0!==e.future&&void 0!==e.past&&Array.isArray(e.future)&&Array.isArray(e.past)}function o(){return console.warn("distinctState is deprecated in beta4 and newer. The distinctState behavior is now default, which means only actions resulting in a new state are recorded. See https://github.com/omnidan/redux-undo#filtering-actions for more details."),function(){return!0}}function i(e){var t=n(e);return function(e){return t.indexOf(e.type)>=0}}function u(e){var t=n(e);return function(e){return t.indexOf(e.type)<0}}function c(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];return t.reduce(function(e,t){return function(n,r,o){return e(n,r,o)&&t(n,r,o)}},function(){return!0})}Object.defineProperty(t,"__esModule",{value:!0}),t.parseActions=n,t.isHistory=r,t.distinctState=o,t.includeAction=i,t.excludeAction=u,t.combineFilters=c},function(e,t){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);e.length>t;t++)n[t]=e[t];return n}return Array.from(e)}function r(){l={header:[],prev:[],action:[],next:[],msgs:[]}}function o(){var e=l,t=e.header,r=e.prev,o=e.next,i=e.action,u=e.msgs;if(console.group){var c,s,a,p,f;(c=console).groupCollapsed.apply(c,n(t)),(s=console).log.apply(s,n(r)),(a=console).log.apply(a,n(i)),(p=console).log.apply(p,n(o)),(f=console).log.apply(f,n(u)),console.groupEnd()}else{var d,y,g,v,T;(d=console).log.apply(d,n(t)),(y=console).log.apply(y,n(r)),(g=console).log.apply(g,n(i)),(v=console).log.apply(v,n(o)),(T=console).log.apply(T,n(u))}}function i(e,t,n){return["%c"+e,"color: "+t+"; font-weight: bold",n]}function u(e,t){r(),p&&(console.group?(l.header=["%credux-undo","font-style: italic","action",e.type],l.action=i("action",f.action,e),l.prev=i("prev history",f.prevState,t)):(l.header=["redux-undo action",e.type],l.action=["action",e],l.prev=["prev history",t]))}function c(e){p&&(l.next=console.group?i("next history",f.nextState,e):["next history",e],o())}function s(){if(p){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];l.msgs=l.msgs.concat([].concat(t,["\n"]))}}function a(e){p=e}Object.defineProperty(t,"__esModule",{value:!0});var p=void 0,l=void 0,f={prevState:"#9E9E9E",action:"#03A9F4",nextState:"#4CAF50"};t.set=a,t.start=u,t.end=c,t.log=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1);Object.defineProperty(t,"ActionTypes",{enumerable:!0,get:function(){return o.ActionTypes}}),Object.defineProperty(t,"ActionCreators",{enumerable:!0,get:function(){return o.ActionCreators}});var i=n(2);Object.defineProperty(t,"parseActions",{enumerable:!0,get:function(){return i.parseActions}}),Object.defineProperty(t,"isHistory",{enumerable:!0,get:function(){return i.isHistory}}),Object.defineProperty(t,"distinctState",{enumerable:!0,get:function(){return i.distinctState}}),Object.defineProperty(t,"includeAction",{enumerable:!0,get:function(){return i.includeAction}}),Object.defineProperty(t,"excludeAction",{enumerable:!0,get:function(){return i.excludeAction}}),Object.defineProperty(t,"combineFilters",{enumerable:!0,get:function(){return i.combineFilters}});var u=n(5);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r(u).default}})},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);e.length>t;t++)n[t]=e[t];return n}return Array.from(e)}function i(e){var t=e.past,n=e.future;return t.length+1+n.length}function u(e,t,n){v.log("inserting",t),v.log("new free: ",n-i(e));var r=e.past,u=e.present,c=n&&i(e)>=n;return{past:[].concat(o(r.slice(c?1:0)),[u]),present:t,future:[]}}function c(e){var t=e.past,n=e.present,r=e.future;return t.length>0?{past:t.slice(0,t.length-1),present:t[t.length-1],future:[n].concat(o(r))}:e}function s(e){var t=e.past,n=e.present,r=e.future;return r.length>0?{future:r.slice(1,r.length),present:r[0],past:[].concat(o(t),[n])}:e}function a(e,t){if(0===t)return s(e);if(0>t||t>=e.future.length)return e;var n=e.past,r=e.present,o=e.future;return{future:o.slice(t+1),present:o[t],past:n.concat([r]).concat(o.slice(0,t))}}function p(e,t){if(t===e.past.length-1)return c(e);if(0>t||t>=e.past.length)return e;var n=e.past,r=e.present,o=e.future;return{future:n.slice(t+1).concat([r]).concat(o),present:n[t],past:n.slice(0,t)}}function l(e,t){return t>0?a(e,t-1):0>t?p(e,e.past.length+t):e}function f(e){return{past:[],present:e,future:[]}}function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};v.set(t.debug);var n={initTypes:(0,h.parseActions)(t.initTypes,["@@redux-undo/INIT"]),limit:t.limit,filter:t.filter||function(){return!0},undoType:t.undoType||T.ActionTypes.UNDO,redoType:t.redoType||T.ActionTypes.REDO,jumpToPastType:t.jumpToPastType||T.ActionTypes.JUMP_TO_PAST,jumpToFutureType:t.jumpToFutureType||T.ActionTypes.JUMP_TO_FUTURE,jumpType:t.jumpType||T.ActionTypes.JUMP,clearHistoryType:t.clearHistoryType||T.ActionTypes.CLEAR_HISTORY};return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.history,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};v.start(r,t);var o=t;n.history||(v.log("history is uninitialized"),void 0===t?(o=f(e(t,{})),v.log("do not initialize on probe actions")):(0,h.isHistory)(t)?(o=n.history=t,v.log("initialHistory initialized: initialState is a history",n.history)):(o=n.history=f(t),v.log("initialHistory initialized: initialState is not a history",n.history)));var i=void 0;switch(r.type){case void 0:return o;case n.undoType:return i=c(o),v.log("perform undo"),v.end(i),i;case n.redoType:return i=s(o),v.log("perform redo"),v.end(i),i;case n.jumpToPastType:return i=p(o,r.index),v.log("perform jumpToPast to "+r.index),v.end(i),i;case n.jumpToFutureType:return i=a(o,r.index),v.log("perform jumpToFuture to "+r.index),v.end(i),i;case n.jumpType:return i=l(o,r.index),v.log("perform jump to "+r.index),v.end(i),i;case n.clearHistoryType:return i=f(o.present),v.log("perform clearHistory"),v.end(i),i;default:if(i=e(o.present,r),n.initTypes.some(function(e){return e===r.type}))return v.log("reset history due to init action"),v.end(n.history),n.history;if(o.present===i)return o;if("function"==typeof n.filter&&!n.filter(r,i,o)){var d=y({},o,{present:i});return v.log("filter prevented action, not storing it"),v.end(d),d}return o=u(o,i,n.limit),v.log("inserted new state into history"),v.end(o),o}}}Object.defineProperty(t,"__esModule",{value:!0});var y=Object.assign||function(e){for(var t=1;arguments.length>t;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=d;var g=n(3),v=r(g),T=n(1),h=n(2)}])});